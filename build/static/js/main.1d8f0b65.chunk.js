(this["webpackJsonpteste-bycoders"]=this["webpackJsonpteste-bycoders"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(32),i=a.n(o),c=a(11),s=a(57),u=a(50),l=(a(85),a(104),a(103),{apiKey:"AIzaSyBGP53tcBME8yQYdMQ13RgZUf3L52mN1RY",authDomain:"teste-bycoders.firebaseapp.com",projectId:"teste-bycoders",storageBucket:"teste-bycoders.appspot.com",messagingSenderId:"568637007926",appId:"1:568637007926:web:489d5243864c397e42d097",measurementId:"G-18GZ8QTSZN"});u.a.apps.length||u.a.initializeApp(l);var p=a(128),d=a(132),h=a(126),g=a(125),m=a(127),v=a(69),b=a.n(v),j=a.p+"static/media/logo.944ebe7c.svg",f=a(8);var x=function(){var e={signInFlow:"popup",signInOptions:[{provider:u.a.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1},{provider:u.a.auth.GoogleAuthProvider.PROVIDER_ID}],signInSuccessUrl:"/home"},t=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}}))(),a=function(){return Object(f.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 Minha Localiza\xe7\xe3o, todos direitos reservados.",(new Date).getFullYear(),"."]})};return Object(f.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(p.a,{}),Object(f.jsxs)("div",{className:t.paper,children:[Object(f.jsx)("img",{alt:"Logo Minha Localiza\xe7\xe3o",src:j}),Object(f.jsx)(h.a,{style:{marginTop:"1rem"},component:"h1",variant:"h5",children:"Acessar com"}),Object(f.jsx)(b.a,{lang:"pt_br",version:"4.7.3",config:e,auth:u.a.auth(),firebase:u.a})]}),Object(f.jsx)(d.a,{mt:8,children:Object(f.jsx)(a,{})})]})},A=a(19),y=a.n(A),O=a(36),k=a(73),w=a(55),D=a(133);u.a.analytics();var I=function(e,t){return u.a.analytics().logEvent(e,t)},N=u.a.firestore(),E=function(){var e=Object(O.a)(y.a.mark((function e(t,a,r,n,o,i){var c,s,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=N.collection("users"),e.next=4,c.get();case 4:if(s=e.sent,l=!1,s.forEach((function(e){e.data().email===a&&(l=!0)})),!l){e.next=9;break}return e.abrupt("return");case 9:return e.abrupt("return",N.collection("users").add({created:u.a.firestore.FieldValue.serverTimestamp(),displayName:t,email:a,phoneNumber:r,photoURL:n,providerId:o,uuid:i}));case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a,r,n,o,i){return e.apply(this,arguments)}}(),S=a(70);function L(){return U.apply(this,arguments)}function U(){return(U=Object(O.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new S.a("mylocation")).version(1).stores({users:"++id, displayName, email, phoneNumber, photoURL, providerId, uuid, lat, lng"}),t.open().catch((function(e){console.log(e.stack||e)})),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:return a=e.sent,e.next=6,a.users.where({email:t}).limit(1).toArray((function(e){return e}));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();a(99);var G=function(){var e=Object(c.f)(),t=Object(r.useState)({lat:0,lng:0}),a=Object(k.a)(t,2),n=a[0],o=a[1],i=Object(r.useCallback)((function(e){new window.google.maps.LatLngBounds(n),e.setZoom(15)}),[n]);function s(){return(s=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:a=e.sent;try{navigator.geolocation.getCurrentPosition((function(e){var r={lat:e.coords.latitude,lng:e.coords.longitude};o(r),i(t),u.a.auth().onIdTokenChanged(function(){var e=Object(O.a)(y.a.mark((function e(t){var n,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return n={displayName:t.providerData[0].displayName,email:t.providerData[0].email,phoneNumber:t.providerData[0].phoneNumber,photoURL:t.providerData[0].photoURL,providerId:t.providerData[0].providerId,uuid:t.providerData[0].uid,creationTime:t.metadata.creationTime,lastSignInTime:t.metadata.lastSignInTime,lat:r.lat,lng:r.lng},e.next=4,C(n.email);case 4:0===e.sent.length&&a.users.add(n),o=JSON.stringify(r),I("logged_in",{userEmail:t.providerData[0].email,geolocation:o}),E(t.providerData[0].displayName,t.providerData[0].email,t.providerData[0].phoneNumber,t.providerData[0].photoURL,t.providerData[0].providerId,t.providerData[0].uid);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),(function(e){alert("Este dispositivo n\xe3o suporta GPS ou ele n\xe3o est\xe1 habilitado."),console.log(e)}))}catch(r){console.log(r)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){"geolocation"in navigator||alert("Este dispositivo n\xe3o suporta GPS ou ele n\xe3o est\xe1 habilitado.")}),[]),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("div",{className:"header-container",children:[Object(f.jsx)("img",{alt:"Logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAEPElEQVRogdWZTWhcVRTHf+eNVavU6kpbbayKIloFPzCVzjxFYzUBEdHgQpCqUarW1qpgBBEUF4KlC6GIYhbisl3YLhqx1SbzksaULMSSiiLaFtMhLkr9SMtkMnNcTGxiM/e9c997fv2Wc/7nnv/h3rnv3fvgf47kNZCGrKBBJ0IRuB5oAy4EFDiBcARlHCGiTr8McyyPupkb0CL3IbwChEBgTGsA+1DeliH2ZqmfuoFZ428At2UxAIygvJ62Ee8GtIOlVNkGPJqmYAwf0eB5GeY3nySvBjTkahrsQrjWz5uZQxR4QAb43ppgbkBDbqDBHoSL03kzU0G4W8p8YxGbGtA1LCdgFLgskzU7xyjQLgP8lCRM3DX0FhZRYCf/nHmA5dTZoXdyVpIweds7j9dQbs3Flh/t1Hk1SRS7hLRIG8K3wLkehQ8i9FFnL+dzGIApVlKggwY9CKs8xjrJDNfICBMuQXwDIdtQnjUWqwKbiXhfmg+qheN1U2CS9ShbgbNNowrvSplN7rADXcMSAiaAJYYyVQI6ZZB9Fk8achdKP7YmfmExl8pnTLUKuv8DAWuxmQd4wWoeQMp8AbxklC/lFB2uoLsB5R5jgYNEfGDUznEJ7wHjRvW9roC7AeEm09DKh641H4dspw70GeU3ugJx2+gVNicZ3iYL7DEqr3IF4hq4wGjiqNHEQmocMSovcgXiGqgbTaQ/U8yYc2uuQFwDP5uGDlhhNLGQxbQZlU4vcQ3YloaYd6uF1I256l5qcQ0MmwZv0KPdFEza+Z6aOT0mccB+d8htLDINLqxikvUm7XwqPAdcZ9Kq24v7VaKTc/idCjE7wDymgS6J+Nzkp0gHwm5gkUF+nOMsk3GmWwWdMyD9VIEdFkM032l2a4kNcctJuylokY0e5kHZ7jIPya/T7QhfmgrNMQ70zT6kDs/+tpIZ1iI8iXXZzNEuEQdcwcR9WEtEQNGzaF6UJeKOOEHyiUx4Jzc7vihbkiS2Q32J/cDtmQ35cYCI1dK8mnRiuwoUenOx5ENAb5L5psyAlCkDOzObsvOJ9YBkvYwFZSO0PtblzEmEF61icwMyxFGEt9J58kB5U8r8aJXbZ6Cp3gKM+HoyI4xxiq1+KZ5okSsRvsJ+4LcyhXKzDPGdT5LfDAAyxA8oL/vmGdjsax6yfOAI2YVyf9r8M/iUiC7Ltnkm3jNwmipPAZXU+XNUmGZdGvOQoQEZZZKAh8D9pmigRsAjMspk2gHSzwAgg4z47Nkt2CSDxoOTy0OW5D/RkD6UJzzTPpaIx7LWzjQDp6mxAWHMrBfGKPB0HqXz+9BdYhnNh9zlCRUnCFht+XxkIZ8ZACSiAnQBJ2Jkv6J05WUecmwAQCIOoTxI652pRsDDEvF1njVzbQBAhhhAeJy/3lg3ENbJoPky999HSzyjJVRLNLSU4t7ov4CG9Gr4957m/gCUKBdIHeoOkAAAAABJRU5ErkJggg==",width:"30",height:"30"}),Object(f.jsxs)("div",{className:"title-header",children:[Object(f.jsx)("h1",{className:"title",children:"Minha Localiza\xe7\xe3o"}),Object(f.jsx)("div",{className:"underline"})]}),Object(f.jsx)(D.a,{"data-testid":"btn-logout",color:"primary",variant:"contained",onClick:function(){u.a.auth().signOut(),e.push("/")},children:"Sair"})]}),Object(f.jsx)("div",{children:Object(f.jsx)(w.b,{googleMapsApiKey:"AIzaSyCuptGS4q02AyEmvT6qvtqborFHquqD6Oc",children:Object(f.jsx)(w.a,{mapContainerStyle:{width:"97vw",height:"90vh",borderRadius:"10px",margin:"1rem"},center:n,onLoad:function(e){!function(e){s.apply(this,arguments)}(e)},options:{gestureHandling:"greedy",streetViewControl:!1,mapTypeControl:!1},children:Object(f.jsx)(w.c,{position:n})})})})]})};function Q(){var e=function(){var e=Object(c.g)();return Object(r.useEffect)((function(){u.a.analytics().setCurrentScreen(e.pathname)}),[e]),Object(f.jsx)(f.Fragment,{})};return Object(f.jsxs)(s.a,{children:[Object(f.jsx)(e,{}),Object(f.jsxs)(c.c,{children:[Object(f.jsx)(c.a,{path:"/",exact:!0,component:x}),Object(f.jsx)(c.a,{path:"/home",exact:!0,component:G})]})]})}var B=function(){return Object(f.jsx)(Q,{})},R=a(131),z=a(72);a(101);R.a({dsn:"https://124156695a204373a0311bcedd09c9ea@o603945.ingest.sentry.io/5744584",integrations:[new z.a.BrowserTracing],tracesSampleRate:1}),i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)})).then((function(e){return navigator.serviceWorker.ready})).catch((function(e){console.log("ServiceWorker registration failed: ",e),alert("Navegador sem suporte ao sw!")}))},99:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.1d8f0b65.chunk.js.map